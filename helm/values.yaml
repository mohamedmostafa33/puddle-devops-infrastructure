namespace: puddle-app-namespace

deployment:
  name: puddle-app-deployment
  app: puddle-app
  container_name: puddle-app-container
  replicas: 3
  image: 123456789012.dkr.ecr.us-east-1.amazonaws.com/puddle-app:v1
  port: 8000

configmap:
  name: puddle-app-config
  DJANGO_DEBUG: "False"
  DJANGO_ALLOWED_HOSTS: "*"
  DJANGO_CSRF_TRUSTED_ORIGINS: ""
  DJANGO_SECURE: "true"
  DJANGO_EMAIL_BACKEND: "django.core.mail.backends.console.EmailBackend"

secret:
  name: puddle-app-secret
  DJANGO_SECRET_KEY: "mav890j3,mc0c-cx2v7y78kjn78l07-cx2-+cub4+7u46-25c"
  DATABASE_URL: ""

service:
  name: puddle-app-service
  app: puddle-app
  type: LoadBalancer
  port:
    protocol: TCP
    port: 80
    targetPort: 8000

resources:
  requests:
    memory: "256Mi"
    cpu: "250m"
  limits:
    memory: "512Mi"
    cpu: "500m"

probes:
  liveness:
    path: /
    port: 8000
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
  readiness:
    path: /
    port: 8000
    initialDelaySeconds: 10
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3
